[
  {
    "id": "Q1-AWS-V132-01",
    "chapter": "第1章",
    "level": "K3",
    "category": "AWS",
    "style": "シナリオ",
    "type": "単一選択",
    "question": "【適用】ALBのスティッキーセッション（Sticky Sessions）。\nステートフルなWebアプリケーション（セッション情報をサーバーのメモリに保存するタイプ）を、ALB（Application Load Balancer）配下の複数台のEC2で運用することになった。\nユーザーがログイン後に勝手にログアウトされてしまう問題を防ぐ設定と、その検証方法はどれか。",
    "options": [
      "ALBのターゲットグループ設定で「スティッキーセッション（維持設定）」を有効にし、同一クライアントからのリクエストが継続して同じインスタンスにルーティングされることを、Cookieの確認やアクセスログで検証する",
      "各EC2インスタンスにElastic IPを付与し、DNSラウンドロビンで負荷分散を行うことで、ユーザーがIPアドレスを直接指定してアクセスできるようにする",
      "ALBを廃止し、CloudFrontのみでリクエストを処理することで、セッション情報をキャッシュさせる",
      "アプリケーション側でセッションタイムアウト時間を「無制限」に設定し、サーバーが変わってもセッションが切れないようにする"
    ],
    "answer": [
      "ALBのターゲットグループ設定で「スティッキーセッション（維持設定）」を有効にし、同一クライアントからのリクエストが継続して同じインスタンスにルーティングされることを、Cookieの確認やアクセスログで検証する"
    ],
    "explanation": "【解説】\nサーバーローカルにセッションを持つ場合、ALBのスティッキーセッション（Cookieベースの固定化）が必須です。これが機能していないと、リクエストごとに別サーバーに飛び、セッション切れ（ログアウト）が発生します。",
    "tags": [
      "第1章",
      "AWS",
      "シナリオ",
      "K3"
    ]
  }
]